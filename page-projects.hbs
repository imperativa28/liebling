{{!--
This template is used for the projects page copied from authors page.
You must first create a page called Projects in the dashboard to enable it.
--}}

{{!-- The tag below means: insert everything in this file
into the {body} of the default.hbs template --}}
{{!< default}}

{{#post}}
  <div class="main-wrap">
    {{!--Special header.hbs partial to generate the <header> tag--}}
    {{> header background=feature_image}}
    {{!-- Inject styles of the hero image to make it responsive --}}
    {{> hero background=feature_image}}
    <div class="m-hero__content" data-aos="fade-down">
      <h1 class="m-hero-title bigger">{{title}}</h1>
      {{#if custom_excerpt}}
      <p class="m-hero-description">{{custom_excerpt}}</p>
      {{/if}}
    </div>
    </header>
    <main>
      <div class="l-content">
        <div class="l-wrapper" data-aos="fade-up" data-aos-delay="300">
          {{#get 'tags' limit='all' include='count.posts' order='count.posts desc'}}
          <div class="l-grid centered">
            {{#foreach tags}}
            <article class="m-article-card as-author">
              {{#if feature_image}}
              <div class="m-article-card__picture" style="background-image: url({{feature_image}})">
                {{else}}
                <div class="m-article-card__picture"
                  style="background-image: url({{asset "images/default-avatar-rectangle.jpg"}})">
                  {{/if}}
                  <a href="{{url}}" class="m-article-card__picture-link" aria-label="Projects"></a>
                  <h3 class="m-article-card__name">{{name}}</h3>
                </div>
                <div class="m-article-card__info">
                  <a href="{{url}}" class="m-article-card__info-link">
                    <p class="m-article-card__excerpt">{{description}}</p>
                  </a>
                  <div class="m-article-card__author-stats">
                    <span>
                      {{plural count.posts empty=(t "No posts") singular=(t "1 post") plural=(t "% posts")}}
                    </span>
                  </div>
                </div>
            </article>
            {{/foreach}}
          </div>
          {{/get}}
        </div>
      </div>
    </main>
  </div>
{{/post}}
